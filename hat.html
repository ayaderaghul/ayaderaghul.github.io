<!DOCTYPE html><html><head><meta charset="utf-8"><style>body {
  width: 45em;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 30px;
}

@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body strong {
  font-weight: bold;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before {
  display: table;
  content: "";
}

.markdown-body hr:after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code {
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body .octicon {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.markdown-body .octicon-link:before {
  content: '\f05c';
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .anchor {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

.markdown-body .highlight {
  background: #fff;
}

.markdown-body .highlight .h {
  color: #333;
  font-style: normal;
  font-weight: normal;
}

.markdown-body .highlight .mf,
.markdown-body .highlight .mh,
.markdown-body .highlight .mi,
.markdown-body .highlight .mo,
.markdown-body .highlight .il,
.markdown-body .highlight .m {
  color: #945277;
}

.markdown-body .highlight .s,
.markdown-body .highlight .sb,
.markdown-body .highlight .sc,
.markdown-body .highlight .sd,
.markdown-body .highlight .s2,
.markdown-body .highlight .se,
.markdown-body .highlight .sh,
.markdown-body .highlight .si,
.markdown-body .highlight .sx,
.markdown-body .highlight .s1 {
  color: #df5000;
}

.markdown-body .highlight .kc,
.markdown-body .highlight .kd,
.markdown-body .highlight .kn,
.markdown-body .highlight .kp,
.markdown-body .highlight .kr,
.markdown-body .highlight .kt,
.markdown-body .highlight .k,
.markdown-body .highlight .o {
  font-weight: bold;
}

.markdown-body .highlight .kt {
  color: #458;
}

.markdown-body .highlight .c,
.markdown-body .highlight .cm,
.markdown-body .highlight .c1 {
  color: #998;
  font-style: italic;
}

.markdown-body .highlight .cp,
.markdown-body .highlight .cs,
.markdown-body .highlight .cp .h {
  color: #999;
  font-weight: bold;
}

.markdown-body .highlight .cs {
  font-style: italic;
}

.markdown-body .highlight .n {
  color: #333;
}

.markdown-body .highlight .na,
.markdown-body .highlight .nv,
.markdown-body .highlight .vc,
.markdown-body .highlight .vg,
.markdown-body .highlight .vi {
  color: #008080;
}

.markdown-body .highlight .nb {
  color: #0086B3;
}

.markdown-body .highlight .nc {
  color: #458;
  font-weight: bold;
}

.markdown-body .highlight .no {
  color: #094e99;
}

.markdown-body .highlight .ni {
  color: #800080;
}

.markdown-body .highlight .ne {
  color: #990000;
  font-weight: bold;
}

.markdown-body .highlight .nf {
  color: #945277;
  font-weight: bold;
}

.markdown-body .highlight .nn {
  color: #555;
}

.markdown-body .highlight .nt {
  color: #000080;
}

.markdown-body .highlight .err {
  color: #a61717;
  background-color: #e3d2d2;
}

.markdown-body .highlight .gd {
  color: #000;
  background-color: #fdd;
}

.markdown-body .highlight .gd .x {
  color: #000;
  background-color: #faa;
}

.markdown-body .highlight .ge {
  font-style: italic;
}

.markdown-body .highlight .gr {
  color: #aa0000;
}

.markdown-body .highlight .gh {
  color: #999;
}

.markdown-body .highlight .gi {
  color: #000;
  background-color: #dfd;
}

.markdown-body .highlight .gi .x {
  color: #000;
  background-color: #afa;
}

.markdown-body .highlight .go {
  color: #888;
}

.markdown-body .highlight .gp {
  color: #555;
}

.markdown-body .highlight .gs {
  font-weight: bold;
}

.markdown-body .highlight .gu {
  color: #800080;
  font-weight: bold;
}

.markdown-body .highlight .gt {
  color: #aa0000;
}

.markdown-body .highlight .ow {
  font-weight: bold;
}

.markdown-body .highlight .w {
  color: #bbb;
}

.markdown-body .highlight .sr {
  color: #017936;
}

.markdown-body .highlight .ss {
  color: #8b467f;
}

.markdown-body .highlight .bp {
  color: #999;
}

.markdown-body .highlight .gc {
  color: #999;
  background-color: #EAF2F5;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  display: inline-block;
  padding: 3px 5px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  line-height: 10px;
  color: #000;
  border: 1px solid #cfcfcf;
  border-radius: 2px;
}

.markdown-body .highlight .pl-coc,
.markdown-body .highlight .pl-entm,
.markdown-body .highlight .pl-eoa,
.markdown-body .highlight .pl-mai .pl-sf,
.markdown-body .highlight .pl-pdv,
.markdown-body .highlight .pl-sc,
.markdown-body .highlight .pl-sr,
.markdown-body .highlight .pl-v,
.markdown-body .highlight .pl-vpf {
  color: #0086b3;
}

.markdown-body .highlight .pl-eoac,
.markdown-body .highlight .pl-mdht,
.markdown-body .highlight .pl-mi1,
.markdown-body .highlight .pl-mri,
.markdown-body .highlight .pl-va,
.markdown-body .highlight .pl-vpu {
  color: #008080;
}

.markdown-body .highlight .pl-c,
.markdown-body .highlight .pl-pdc {
  color: #b4b7b4;
  font-style: italic;
}

.markdown-body .highlight .pl-k,
.markdown-body .highlight .pl-ko,
.markdown-body .highlight .pl-kolp,
.markdown-body .highlight .pl-mc,
.markdown-body .highlight .pl-mr,
.markdown-body .highlight .pl-ms,
.markdown-body .highlight .pl-s,
.markdown-body .highlight .pl-sok,
.markdown-body .highlight .pl-st {
  color: #6e5494;
}

.markdown-body .highlight .pl-ef,
.markdown-body .highlight .pl-enf,
.markdown-body .highlight .pl-enm,
.markdown-body .highlight .pl-entc,
.markdown-body .highlight .pl-eoi,
.markdown-body .highlight .pl-sf,
.markdown-body .highlight .pl-smc {
  color: #d12089;
}

.markdown-body .highlight .pl-ens,
.markdown-body .highlight .pl-eoai,
.markdown-body .highlight .pl-kos,
.markdown-body .highlight .pl-mh .pl-pdh,
.markdown-body .highlight .pl-mp,
.markdown-body .highlight .pl-pde,
.markdown-body .highlight .pl-stp {
  color: #458;
}

.markdown-body .highlight .pl-enti {
  color: #d12089;
  font-weight: bold;
}

.markdown-body .highlight .pl-cce,
.markdown-body .highlight .pl-enc,
.markdown-body .highlight .pl-kou,
.markdown-body .highlight .pl-mq {
  color: #f93;
}

.markdown-body .highlight .pl-mp1 .pl-sf {
  color: #458;
  font-weight: bold;
}

.markdown-body .highlight .pl-cos,
.markdown-body .highlight .pl-ent,
.markdown-body .highlight .pl-md,
.markdown-body .highlight .pl-mdhf,
.markdown-body .highlight .pl-ml,
.markdown-body .highlight .pl-pdc1,
.markdown-body .highlight .pl-pds,
.markdown-body .highlight .pl-s1,
.markdown-body .highlight .pl-scp,
.markdown-body .highlight .pl-sol {
  color: #df5000;
}

.markdown-body .highlight .pl-c1,
.markdown-body .highlight .pl-cn,
.markdown-body .highlight .pl-pse,
.markdown-body .highlight .pl-pse .pl-s2,
.markdown-body .highlight .pl-vi {
  color: #a31515;
}

.markdown-body .highlight .pl-mb,
.markdown-body .highlight .pl-pdb {
  color: #df5000;
  font-weight: bold;
}

.markdown-body .highlight .pl-mi,
.markdown-body .highlight .pl-pdi {
  color: #6e5494;
  font-style: italic;
}

.markdown-body .highlight .pl-ms1 {
  background-color: #f5f5f5;
}

.markdown-body .highlight .pl-mdh,
.markdown-body .highlight .pl-mdi {
  font-weight: bold;
}

.markdown-body .highlight .pl-mdr {
  color: #0086b3;
  font-weight: bold;
}

.markdown-body .highlight .pl-s2 {
  color: #333;
}

.markdown-body .highlight .pl-ii {
  background-color: #df5000;
  color: #fff;
}

.markdown-body .highlight .pl-ib {
  background-color: #f93;
}

.markdown-body .highlight .pl-id {
  background-color: #a31515;
  color: #fff;
}

.markdown-body .highlight .pl-iu {
  background-color: #b4b7b4;
}

.markdown-body .highlight .pl-mo {
  color: #969896;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  float: left;
  margin: 0.3em 0 0.25em -1.6em;
  vertical-align: middle;
}</style><title>hat</title></head><body><article class="markdown-body"><p><a href="https://ayaderaghul.github.io/">About</a> / <a href="https://ayaderaghul.github.io/post.html">Posts</a> / <a href="https://ayaderaghul.github.io/comic.html">Comics</a></p>

<h1>
<a id="user-content-the-alices-hat" class="anchor" href="#the-alices-hat" aria-hidden="true"><span class="octicon octicon-link"></span></a>the Alice's hat</h1>

<p>suddenly i become quite disposal these days, so i go back to watch nerdy movies
(seriously, watch <a href="https://www.youtube.com/watch?v=q_qkZI7no8M">batman: assault in arkham</a>,
harley quinn is batshit crazy).
plus i'm inspired by this
<a href="http://nbviewer.ipython.org/url/norvig.com/ipython/Cheryl.ipynb">post</a>
that based on a story that went very viral recently, i decide to translate the
hat story into <a href="http://download.racket-lang.org/?proxy=passed&amp;o=x&amp;p=r&amp;y=p">scheme/racket</a>.</p>

<h2>
<a id="user-content-the-hat-story" class="anchor" href="#the-hat-story" aria-hidden="true"><span class="octicon octicon-link"></span></a>the hat story</h2>

<p>everybody knows the hat story. there are two girls Alice and Beatrice in a room.
each wears a hat. a hat can be either red or black. each girl
sees other hat but cant see her own hat. there is a public
annoucement that "there is a red hat". after this annoucement,
Alice still cant tell her color. Upon hearing that, Beatrice
says her hat color is 'red'. Alice's still never able to tell her color.</p>

<h3>
<a id="user-content-possible-states" class="anchor" href="#possible-states" aria-hidden="true"><span class="octicon octicon-link"></span></a>possible states</h3>

<p>because there are 2 girls and 2
colors for a hat, there are 2x2=4 states of the world:</p>

<pre><code>(define states-of-the-world
  (list (list 'red 'red)
        (list 'red 'black)
        (list 'black 'red)
        (list 'black 'black)))
</code></pre>

<p>this is basic probabilistic maths. if Alice bets on the rationality
of Beatrice, A may infer that B knows this. and vice versa.
among these states, the truth materialises to be red-red:</p>

<pre><code>(define truth
  (hash 'a 'red 'b 'red))
</code></pre>

<p>with 'a is for Alice and 'b is for Beatrice. the <code>hash</code> function
creates a yellow-page dictionary.</p>

<pre><code>&gt; truth
'#hash((a . red) (b . red))
</code></pre>

<p>if you enter the key 'a, it
returns 'red (the associated value) for you.</p>

<pre><code>&gt; (hash-ref truth 'a)
'red
&gt; (hash-ref truth 'b)
'red
</code></pre>

<p>(ref in <code>hash-ref</code> is reference)</p>

<h3>
<a id="user-content-they-dont-know-their-own-colors" class="anchor" href="#they-dont-know-their-own-colors" aria-hidden="true"><span class="octicon octicon-link"></span></a>they dont know their own colors</h3>

<p>now what notÂ·everybody knows? each person doesnt know the color
of their own hat, but they can see the color of the other's hat.</p>

<pre><code>(define (see who whom)
  (if (not (equal? who whom))
      (hash-ref truth whom)
      #f))

</code></pre>

<p>the function <code>see</code> works like this</p>

<pre><code>(see 'a 'b)
&gt; 'red
(see 'a 'a)
&gt; #f
</code></pre>

<p><code>see</code> inputs two arguments: who and whom, who wants to see whom.
if who is not whom, then we can proceed to
look up the truth using the key.
but if who = whom, then we can't access the book of truth,
racket returns #f.
technically, the function is shorter this way:</p>

<pre><code>(define (see who whom)
  (and (not (equal? who whom))
       (hash-ref truth whom)))
</code></pre>

<p><code>and</code> belongs to the famility of
conditional sentence just like <code>if</code>, but <code>and</code>
returns the last <code>#t</code> argument. if all arguments are <code>#f</code>,
<code>and</code> returns <code>#f</code>.</p>

<blockquote>
<p>what is <code>#t</code> and what is <code>#f</code> in racket?</p>

<p>every value is <code>true</code>, the only <code>false</code> is <code>#f</code> itself.</p>
</blockquote>

<p>anyway, at this point they both dont know the
true state of the world. they know only the possible states of
the world. now after they look at each other's hat, what do
they know about feasible states of the world?</p>

<h3>
<a id="user-content-possible-states-given-other-color" class="anchor" href="#possible-states-given-other-color" aria-hidden="true"><span class="octicon octicon-link"></span></a>possible states given other color</h3>

<pre><code>(define (possible? a-color other a-state)
  (and (equal? a-color
               ((if (equal? 'a other) first second)
                a-state))
       a-state))
</code></pre>

<p>this function checks if a state is possible after a subject
sees the color of the other. if true, it returns that state.</p>

<pre><code>(possible? 'red 'b '(red red))
&gt; '(red red)

(possible? 'red 'b '(red black))
&gt; #f
</code></pre>

<p>if Alice sees that Beatrice is red,
the state red-red is possible but the state
red-black can't be possible.
this function <code>possible?</code> is a stepping-stone for another function
<code>possible-states</code>,
which will check the whole state set to return
a list of possible states after one sees other color.</p>

<pre><code>(define (possible-states a-color other a-world-state-list)
  (for/list ([i (length a-world-state-list)])
    (possible? a-color other
               (list-ref a-world-state-list i))))
</code></pre>

<p>this is a loop, when <em>i</em> run fully through the state list,
racket checks what state is possible,
then returns the result in a list.</p>

<pre><code>&gt; (possible-states 'red 'b states-of-the-world)
'((red red) #f (black red) #f)
</code></pre>

<p>to get rid of the <code>#f</code> in the list, we use <code>filter</code> to collect
the <code>not false</code> arguments only:</p>

<pre><code>(define (true? x)
  (not (false? x)))

(define (possible-states a-color other a-world-state-list)
  (filter true?
          (for/list ([i (length a-world-state-list)])
            (possible? a-color other
                       (list-ref a-world-state-list i)))))

</code></pre>

<p>now the returned list is clean:</p>

<pre><code>&gt; (possible-states 'red 'b states-of-the-world)
'((red red) (black red))
</code></pre>

<p>the above sentence says that if (Alice sees) Beatrice is red,
then possible states of the world is red-red and black-red.
again, this is basic probability, these <em>possible</em> speculations of
<em>what-ifs</em> rest firmly on the rationality assumption.</p>

<h3>
<a id="user-content-feasible-states-given-the-truth" class="anchor" href="#feasible-states-given-the-truth" aria-hidden="true"><span class="octicon octicon-link"></span></a>feasible states, given the truth</h3>

<p>given the true state red-red, Alice can only see red and
Beatrice can only see red. so they knows that the possible state set
can be narrowed down into a smaller state set that is more
feasible:</p>

<pre><code>(define (know who a-world-state-list)
  (possible-states
      (if (equal? 'a who) 'b 'a)
      (see who (if (equal? 'a who) 'b 'a))
      a-world-state-list
                   ))
</code></pre>

<p>this function'll tell you who knows what.</p>

<pre><code>&gt; (know 'a states-of-the-world)
'((red red) (black red))
&gt; (know 'b state-of-the-world)
'((red red) (red black))
</code></pre>

<p>the function is just a nested function built upon the smaller
fragments that we wrote in previous section. semantically,
if the subject is Alice (who), then the other will be Beatrice (whom)
and vice versa.</p>

<p>note that given the truth, after they see other color,
each of them will have a different set of feasible states
(length 2). that'd be private inforamation.
the common knowledge here is that if
we see through each player eye, we <em>may</em> see a
completely different reality. it's a lovely coincidence
of this riddle that
the truth materialises for their reality to be the same.
but they dont know that. Alice doesnt know what Beatrice sees,
so she can't
infer the feasible set of Beatrice and vice versa.
what one can iterately infer (a higher order inference) is a
larger range of what-ifs:</p>

<p>Beatrice can fold her reasoning once like this:</p>

<ul>
<li>if A sees a red in me, A's feasible set will be '((red red) (black red))</li>
<li>if A sees a black in me, A's feasible set will be '((red black) (black black))</li>
</ul>

<p>and vice versa. the code of that Beatrice reasoning about Alice's
thinking is:</p>

<pre><code>&gt; (possible-states 'red 'b states-of-the-world)
'((red red) (black red))
&gt; (possible-states 'black 'b states-of-the-world)
'((red black) (black black))
</code></pre>

<h3>
<a id="user-content-announcement-there-is-a-red-hat" class="anchor" href="#announcement-there-is-a-red-hat" aria-hidden="true"><span class="octicon octicon-link"></span></a>announcement: there is a red hat</h3>

<p>now, with this piece of information that is publicly annouced,
everybody knows that there can't be black-black state,
so we remove the state that couldnt have materialised: black-black</p>

<pre><code>(define (everybody-knows not-state a-world-state-list)
  (remove not-state a-world-state-list))

(everybody-knows '(black black) states-of-the-world)
&gt; '((red red) (red black) (black red))
</code></pre>

<p>we can define a new state set of the world (a narrower one)</p>

<pre><code>(define reduced-states-of-the-world
  (everybody-knows '(black black) states-of-the-world))
</code></pre>

<h3>
<a id="user-content-alice-still-cant-tell-her-color" class="anchor" href="#alice-still-cant-tell-her-color" aria-hidden="true"><span class="octicon octicon-link"></span></a>Alice still cant tell her color</h3>

<p>with a shrinked set of states of the world, we'll see how it affects
the speculation of Beatrice about the reality through Alice's eye:</p>

<pre><code>&gt; (possible-states 'red 'b reduced-states-of-the-world)
'((red red) (black red))
&gt; (possible-states 'black 'b reduced-states-of-the-world)
'((red black))
</code></pre>

<p>Beatrice still doesnt know which reality is the reality of
Alice, but the set of what-ifs clearly gets smaller.
and one feasible reality has only length 1. which means that
if that reality is the case, Alice will be able to tell the true
state of the world, (and her color).
but, Alice still can't tell the color of her hat.
which means that the length-one reality is not possible.
which means that the other reality is true. and it's the reality
that Alice sees red color in Beatrice.</p>

<p>if every single chain in this logic is not broken, Beatrice can go
that far.</p>

<h3>
<a id="user-content-alice-can-never-tell-her-color" class="anchor" href="#alice-can-never-tell-her-color" aria-hidden="true"><span class="octicon octicon-link"></span></a>Alice can never tell her color</h3>

<p>after beatrice says her color is red, nothing changes to Alice.
her reality still have two feasible states red-red, black-red.
but if Beatrice was asked before Alice (after the announcement),
the situtation will reversed. so the thing is
Alice doesnt know how Beatrice knows. At best, Alice can make
a higher order inference (a big range of what-ifs) like this:</p>

<ul>
<li>if Beatrice knows B hat in a
trivial way: Beatrice sees that Alice has a black hat:</li>
</ul>

<pre><code>&gt; (possible-states 'black 'a reduced-states-of-the-world)
'((black red))
</code></pre>

<p>then Alice knows that Alice hat is black</p>

<ul>
<li>if Beatrice knows B hat only after B knows that A cant tell,
it means that B has to project A mind in order to infer
that information. B was trying to think about the possible
realities of Alice. in that case A's hat is red.</li>
</ul>

<p>but Beatrice never tells how B knows.</p>

<h2>
<a id="user-content-common-knowledge" class="anchor" href="#common-knowledge" aria-hidden="true"><span class="octicon octicon-link"></span></a>common knowledge</h2>

<p>Myerson has to make a section in his textbook to note that common knowledge
doesnt sound trivial as this: everybody knows everything
or everybody knows that everybody knows .... about everything.</p>

<p>one of not-so-trivial reasoning path is that
we do some recursive and iterative reasoning to
infer (at infinite level) about what others know and we dont
know but we know that others know something... blah</p>

<p>so, it happens with probability that if we face two minds of two people like
we arrange two mirrors facing each other, we got to infinity.</p>

<p>the sad thing is that sometimes it doesnt happen,</p>

<p>but we still think so.</p>

<p>
<div id="disqus_thread"></div>
  <script type="text/javascript">
   /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'ayaderaghul'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</p> 

</article></body></html>